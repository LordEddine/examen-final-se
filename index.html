<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OP√âRATION BLACKOUT-Œ© ‚Äî CERT-QC</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>

    <!-- ============================================ -->
    <!-- BOOT SCREEN                                  -->
    <!-- ============================================ -->
    <div id="screen-boot" class="screen active">
        <div class="boot-container">
            <pre class="boot-ascii" id="boot-ascii"></pre>
            <div class="boot-text" id="boot-text"></div>
            <div class="boot-progress">
                <div class="boot-progress-bar" id="boot-progress-bar"></div>
            </div>
            <div class="boot-status" id="boot-status">INITIALISATION DES SYST√àMES...</div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- LOGIN SCREEN                                 -->
    <!-- ============================================ -->
    <div id="screen-login" class="screen">
        <div class="login-container">
            <div class="login-header">
                <div class="facility-logo">üî¥</div>
                <h1>CERT-QC</h1>
                <p class="subtitle">COMPUTER EMERGENCY RESPONSE TEAM ‚Äî QU√âBEC</p>
                <p class="classified">‚ñì‚ñì ACC√àS RESTREINT ‚Äî OP√âRATION BLACKOUT-Œ© ‚ñì‚ñì</p>
                <p class="login-warning" style="color: #ff3b3b; font-size: 0.85rem; margin-top: 12px; padding: 10px; border: 1px solid #ff3b3b; background: rgba(255,59,59,0.1); text-align: center; line-height: 1.5;">‚ö†Ô∏è ATTENTION : Entrez votre nom, pr√©nom et num√©ro d'√©tudiant <strong>correctement du premier coup</strong>. Aucune correction possible apr√®s validation. Le syst√®me n'enregistrera pas l'examen en cas d'erreur.</p>
            </div>
            <div class="login-box">
                <div class="login-field">
                    <label>NOM :</label>
                    <input type="text" id="agent-nom" placeholder="Votre nom de famille" autocomplete="off" spellcheck="false">
                </div>
                <div class="login-field">
                    <label>PR√âNOM :</label>
                    <input type="text" id="agent-prenom" placeholder="Votre pr√©nom" autocomplete="off" spellcheck="false">
                </div>
                <div class="login-field">
                    <label>NUM√âRO D'√âTUDIANT :</label>
                    <input type="text" id="agent-numero" placeholder="Ex: 1234567" autocomplete="off" spellcheck="false" maxlength="10">
                </div>
                <button id="btn-login" class="btn-terminal" disabled>
                    <span class="btn-text">[ ACC√àS REFUS√â ]</span>
                </button>
                <p class="login-hint" id="login-hint"></p>
            </div>
            <div class="login-footer">
                <p>OP√âRATION BLACKOUT-Œ© // CERT-QC // MONTR√âAL // NE PAS DISTRIBUER</p>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- MAIN INTERFACE                               -->
    <!-- ============================================ -->
    <div id="screen-main" class="screen">

        <!-- TOP BAR -->
        <header class="top-bar">
            <div class="top-left">
                <span class="facility-badge">üî¥ CERT-QC</span>
                <span class="separator">|</span>
                <span class="operation-name">OP√âRATION BLACKOUT-Œ©</span>
                <span class="separator">|</span>
                <button class="btn-topbar" id="btn-contexte" title="Contexte de l'op√©ration">üìñ CONTEXTE</button>
                <button class="btn-topbar" id="btn-info-utile" title="Informations utiles">üìö INFO UTILE</button>
                <button class="btn-topbar btn-bareme" id="btn-bareme" title="Bar√®me de l'examen">üìä BAR√àME</button>
            </div>
            <div class="top-center">
                <div class="timer-display">
                    <span class="timer-label">TEMPS RESTANT</span>
                    <span class="timer-value" id="main-timer">04:30:00</span>
                </div>
            </div>
            <div class="top-right">
                <span class="agent-badge" id="agent-badge">AGENT: ---</span>
                <span class="clearance" id="clearance-badge">NIVEAU 0</span>
                <button class="btn-sound" id="btn-sound" title="Activer/Couper le son">üîá</button>
                <button class="btn-topbar btn-fin-examen" id="btn-fin-examen" title="Terminer l'examen et se d√©connecter">üö™ FIN EXAMEN</button>
            </div>
            <audio id="ambiance-audio" loop preload="auto">
                <source src="assets/ambiance.mp3" type="audio/mpeg">
            </audio>
        </header>

        <!-- CONTENT AREA -->
        <div class="main-content">

            <!-- SIDEBAR -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>üì° MISSIONS</h3>
                    <nav class="mission-nav">
                        <button class="nav-btn active" data-level="briefing" id="nav-briefing">
                            <span class="nav-icon">üìã</span>
                            <span class="nav-label">BRIEFING</span>
                            <span class="nav-status status-available">‚óè</span>
                        </button>
                        <button class="nav-btn locked" data-level="level0" id="nav-level0">
                            <span class="nav-icon">üìê</span>
                            <span class="nav-label">NIV.0 ‚Äî TH√âORIE</span>
                            <span class="nav-status status-locked">üîí</span>
                        </button>
                        <button class="nav-btn locked" data-level="level1" id="nav-level1">
                            <span class="nav-icon">üîç</span>
                            <span class="nav-label">NIV.1 ‚Äî LOGS</span>
                            <span class="nav-status status-locked">üîí</span>
                        </button>
                        <button class="nav-btn locked" data-level="level2" id="nav-level2">
                            <span class="nav-icon">üåê</span>
                            <span class="nav-label">NIV.2 ‚Äî R√âSEAU</span>
                            <span class="nav-status status-locked">üîí</span>
                        </button>
                        <button class="nav-btn locked" data-level="level3" id="nav-level3">
                            <span class="nav-icon">üê≥</span>
                            <span class="nav-label">NIV.3 ‚Äî GIT/DOCKER</span>
                            <span class="nav-status status-locked">üîí</span>
                        </button>
                        <button class="nav-btn locked" data-level="level4" id="nav-level4">
                            <span class="nav-icon">üî¢</span>
                            <span class="nav-label">NIV.4 ‚Äî HEX/DNS</span>
                            <span class="nav-status status-locked">üîí</span>
                        </button>
                        <button class="nav-btn locked" data-level="level5" id="nav-level5">
                            <span class="nav-icon">üõ°Ô∏è</span>
                            <span class="nav-label">NIV.5 ‚Äî SCRIPTS</span>
                            <span class="nav-status status-locked">üîí</span>
                        </button>
                        <button class="nav-btn locked" data-level="level6" id="nav-level6">
                            <span class="nav-icon">üìù</span>
                            <span class="nav-label">NIV.6 ‚Äî RAPPORT</span>
                            <span class="nav-status status-locked">üîí</span>
                        </button>
                    </nav>
                </div>

                <div class="sidebar-section">
                    <h3>üìÅ FICHIERS LOGS</h3>
                    <div class="file-explorer">
                        <div class="folder-item" id="folder-logs">
                            <span class="folder-toggle">‚ñº</span>
                            <span class="folder-name">logs_blackout/</span>
                        </div>
                        <div class="file-list" id="file-list-logs">
                            <div class="file-item" data-file="logs_blackout/pare_feu.log">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">pare_feu.log</span>
                            </div>
                            <div class="file-item" data-file="logs_blackout/arp_poison.log">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">arp_poison.log</span>
                            </div>
                            <div class="file-item" data-file="logs_blackout/icmp_tunnel.log">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">icmp_tunnel.log</span>
                            </div>
                            <div class="file-item" data-file="logs_blackout/dns_hex.log">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">dns_hex.log</span>
                            </div>
                            <div class="file-item" data-file="logs_blackout/scada_alerte.log">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">scada_alerte.log</span>
                            </div>
                            <div class="file-item" data-file="logs_blackout/table_routage.txt">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">table_routage.txt</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>ÔøΩ SCRIPTS √Ä T√âL√âCHARGER</h3>
                    <div class="download-list">
                        <button class="download-item" data-script="generer_logs_blackout.sh">
                            <span class="download-icon">üìú</span>
                            <span class="download-info">
                                <span class="download-name">generer_logs_blackout.sh</span>
                                <span class="download-desc">G√©n√®re tous les fichiers logs</span>
                            </span>
                            <span class="download-arrow">‚¨á</span>
                        </button>
                        <button class="download-item" data-script="simulateur_blackout.sh">
                            <span class="download-icon">üé¨</span>
                            <span class="download-info">
                                <span class="download-name">simulateur_blackout.sh</span>
                                <span class="download-desc">Simulation live de l'attaque</span>
                            </span>
                            <span class="download-arrow">‚¨á</span>
                        </button>

                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>ÔøΩüîë CODE D'ACC√àS</h3>
                    <div class="unlock-box">
                        <input type="text" id="unlock-code" placeholder="Code num√©rique..." autocomplete="off" spellcheck="false">
                        <button id="btn-unlock" class="btn-terminal-sm">D√âVERROUILLER</button>
                    </div>
                    <p class="unlock-hint" id="unlock-hint"></p>
                </div>

                <div class="sidebar-section radio-section">
                    <h3>üìª RADIO COMMS</h3>
                    <div class="radio-feed" id="radio-feed">
                        <div class="radio-msg">
                            <span class="radio-time">23:58</span>
                            <span class="radio-text">Syst√®me CERT-QC en ligne. En attente du briefing...</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- MAIN PANEL -->
            <main class="main-panel" id="main-panel">

                <!-- ======================================== -->
                <!-- BRIEFING                                 -->
                <!-- ======================================== -->
                <section class="level-content" id="content-briefing">
                    <div class="content-header">
                        <h2>üìã BRIEFING ‚Äî OP√âRATION BLACKOUT-Œ©</h2>
                        <div class="classification">SECRET ‚Äî CERT-QC ‚Äî DIFFUSION RESTREINTE</div>
                    </div>
                    <div class="terminal-box">
                        <div class="terminal-header">
                            <span class="terminal-dot red"></span>
                            <span class="terminal-dot yellow"></span>
                            <span class="terminal-dot green"></span>
                            <span class="terminal-title">alerte_certqc.log</span>
                        </div>
                        <div class="terminal-body" id="briefing-text"></div>
                    </div>
                    <div class="info-cards" id="briefing-cards" style="display:none;">
                        <div class="info-card">
                            <div class="card-icon">üìÖ</div>
                            <div class="card-title">DATE</div>
                            <div class="card-value">14 mars 2026, 23h58</div>
                        </div>
                        <div class="info-card">
                            <div class="card-icon">üìç</div>
                            <div class="card-title">LIEU</div>
                            <div class="card-value">Montr√©al, Qu√©bec</div>
                        </div>
                        <div class="info-card alert">
                            <div class="card-icon">‚ö†Ô∏è</div>
                            <div class="card-title">MENACE</div>
                            <div class="card-value">Groupe VANTABLACK</div>
                        </div>
                        <div class="info-card">
                            <div class="card-icon">üéØ</div>
                            <div class="card-title">CIBLES</div>
                            <div class="card-value">SCADA, CHUM, Eau, Trafic</div>
                        </div>
                    </div>
                    <div class="mission-brief" id="briefing-mission" style="display:none;">
                        <h3>üéØ VOTRE MISSION</h3>
                        <p>Analyser les 6 fichiers de logs, identifier les techniques d'attaque de VANTABLACK, et neutraliser la menace avant qu'elle ne compromette les syst√®mes critiques de Montr√©al.</p>
                        <p class="warning-text">‚ö†Ô∏è Entrez le code d'acc√®s ci-dessous pour d√©buter le Niveau 0.</p>
                    </div>
                    <div class="code-reveal hidden" id="code-reveal-briefing">
                        <div class="code-reveal-box">
                            <div class="code-reveal-label">üîë CODE D'ACC√àS ‚Äî NIVEAU 0</div>
                            <div class="code-reveal-value" id="code-value-briefing"></div>
                            <div class="code-reveal-hint">Entrez ce code dans la section ¬´ Code d'acc√®s ¬ª de la barre lat√©rale</div>
                        </div>
                    </div>
                </section>

                <!-- ======================================== -->
                <!-- LEVEL 0 ‚Äî Th√©orie R√©seau                -->
                <!-- ======================================== -->
                <section class="level-content hidden" id="content-level0">
                    <div class="content-header">
                        <h2>üìê NIVEAU 0 ‚Äî QCM TH√âORIQUE : R√âSEAUX, GIT ET DOCKER (30 min)</h2>
                        <div class="classification">EXAMEN TH√âORIQUE ‚Äî TOUTES LES QUESTIONS SONT OBLIGATOIRES</div>
                    </div>
                    <div class="comm-message">
                        <div class="comm-sender">üì® MSG DE : Commandant CERT-QC</div>
                        <div class="comm-body">
                            <p>¬´ Avant de plonger dans les logs, vous devez d√©montrer vos connaissances th√©oriques. R√©pondez √† <strong>TOUTES</strong> les questions. Si vous ne connaissez pas la r√©ponse, s√©lectionnez ¬´ Je ne sais pas ¬ª. Aucun r√©sultat ne sera affich√© ‚Äî votre note QCM sera calcul√©e √† la fin de l'examen. ¬ª</p>
                        </div>
                    </div>

                    <!-- ‚ïê‚ïê‚ïê TH√âORIE : R√âSEAUX ‚ïê‚ïê‚ïê -->
                    <div class="mission-block">
                        <h3>üìê Mod√®le OSI vs TCP/IP</h3>
                        <div class="context-box">
                            Le <strong>mod√®le OSI</strong> divise les communications en <strong>7 couches</strong>. Le <strong>mod√®le TCP/IP</strong> utilis√© en pratique les regroupe en <strong>4 niveaux</strong>.
                        </div>
                        <div class="code-display">
<pre>Mod√®le OSI        Mod√®le TCP/IP    Exemples
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
7 - Application                    HTTP, DNS, SSH, SMTP
6 - Pr√©sentation   Application     TLS/SSL
5 - Session                        Gestion des connexions
4 - Transport      Transport       TCP (fiable), UDP (rapide)
3 - R√©seau         Internet        IP, ICMP, ARP
2 - Liaison        Acc√®s r√©seau    Ethernet, MAC addresses
1 - Physique                       C√¢bles, Wi-Fi</pre>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîµ Protocole ARP ‚Äî R√©solution IP ‚Üí MAC</h3>
                        <div class="context-box">
                            <strong>ARP (Address Resolution Protocol)</strong> convertit une adresse IP en adresse MAC sur un r√©seau local. <strong>ARP Poisoning</strong> : L'attaquant envoie de fausses r√©ponses ARP pour intercepter le trafic (attaque MITM).
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üü† Protocole ICMP ‚Äî Tunnel de commandes</h3>
                        <div class="context-box">
                            <strong>ICMP</strong> est le protocole utilis√© par <code>ping</code>. Un ping normal fait 32‚Äì84 octets. Un <strong>tunnel ICMP</strong> cache des donn√©es/commandes dans des paquets ICMP surdimensionn√©s (payload > 1000 octets).
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üü¢ Sous-r√©seaux ‚Äî Notation CIDR</h3>
                        <div class="context-box">
                            La notation CIDR indique combien de bits sont r√©serv√©s au r√©seau. Ex: <code>/24</code> = masque <code>255.255.255.0</code> = 254 h√¥tes utilisables. <code>/16</code> = masque <code>255.255.0.0</code> = 65 534 h√¥tes. <code>/8</code> = masque <code>255.0.0.0</code> = 16 777 214 h√¥tes.
                        </div>
                        <table class="data-table">
                            <thead><tr><th>R√©seau</th><th>CIDR</th><th>Masque</th><th>Nb h√¥tes</th></tr></thead>
                            <tbody>
                                <tr><td>R√©seau Admin</td><td>10.100.1.0/24</td><td>255.255.255.0</td><td>254</td></tr>
                                <tr><td>R√©seau SCADA</td><td>10.100.2.0/24</td><td>255.255.255.0</td><td>254</td></tr>
                                <tr><td>R√©seau CHUM</td><td>10.100.3.0/24</td><td>255.255.255.0</td><td>254</td></tr>
                                <tr><td>R√©seau Ville</td><td>10.100.0.0/16</td><td>255.255.0.0</td><td>65 534</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- ‚ïê‚ïê‚ïê TH√âORIE : GIT & GITHUB ‚ïê‚ïê‚ïê -->
                    <div class="mission-block">
                        <h3>üåø Git ‚Äî Gestion de versions</h3>
                        <div class="context-box">
                            <strong>Git</strong> est un syst√®me de contr√¥le de version distribu√©. Il permet de sauvegarder, suivre et fusionner les modifications du code source.
                        </div>
                        <table class="data-table">
                            <thead><tr><th>Concept</th><th>D√©finition</th></tr></thead>
                            <tbody>
                                <tr><td>Repository</td><td>Dossier contenant le code + historique complet</td></tr>
                                <tr><td>Commit</td><td>Sauvegarde locale de l'√©tat du code √† un instant</td></tr>
                                <tr><td>Branch</td><td>Ligne de d√©veloppement parall√®le et ind√©pendante</td></tr>
                                <tr><td>Push</td><td>Envoyer ses commits vers le serveur distant</td></tr>
                                <tr><td>Pull</td><td>R√©cup√©rer les derniers commits depuis le serveur</td></tr>
                                <tr><td>Merge</td><td>Fusionner deux branches ensemble</td></tr>
                                <tr><td>Clone</td><td>Copier un repository distant en local</td></tr>
                                <tr><td>Fork</td><td>Copie personnelle d'un repository sur GitHub</td></tr>
                                <tr><td>Pull Request</td><td>Demande de fusion d'une branche dans une autre</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- ‚ïê‚ïê‚ïê TH√âORIE : DOCKER ‚ïê‚ïê‚ïê -->
                    <div class="mission-block">
                        <h3>üê≥ Docker ‚Äî Conteneurs</h3>
                        <div class="context-box">
                            <strong>Docker</strong> permet d'ex√©cuter des applications dans des <strong>conteneurs</strong> isol√©s qui partagent le noyau de la machine h√¥te, contrairement aux machines virtuelles qui ont leur propre noyau.
                        </div>
                        <table class="data-table">
                            <thead><tr><th>Terme</th><th>D√©finition</th></tr></thead>
                            <tbody>
                                <tr><td>Image</td><td>Mod√®le (template) en lecture seule pour cr√©er un conteneur</td></tr>
                                <tr><td>Conteneur</td><td>Instance en cours d'ex√©cution d'une image</td></tr>
                                <tr><td>Dockerfile</td><td>Fichier de recette d√©crivant la construction d'une image</td></tr>
                                <tr><td>Registry</td><td>Entrep√¥t d'images (ex: Docker Hub)</td></tr>
                                <tr><td>Volume</td><td>Stockage persistant partag√© entre conteneur et h√¥te</td></tr>
                            </tbody>
                        </table>
                        <div class="code-display">
<pre>Machine Virtuelle           Conteneur Docker
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ          ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Noyau OS complet            Partage le noyau de l'h√¥te
D√©marrage en minutes        D√©marrage en secondes
Isolation forte             Isolation plus l√©g√®re
500 Mo √† 10 Go              50 Mo √† 500 Mo</pre>
                        </div>
                    </div>

                    <!-- ‚ïê‚ïê‚ïê QCM LEVEL 0 ‚ïê‚ïê‚ïê -->
                    <div class="quiz-panel qcm-panel" id="quiz-level0">
                        <h3>üìã QCM TH√âORIQUE ‚Äî Niveau 0</h3>
                        <p class="quiz-desc">R√©pondez √† <strong>toutes</strong> les questions ci-dessous. S√©lectionnez ¬´ Je ne sais pas ¬ª si n√©cessaire.<br>Aucun r√©sultat ne sera affich√©. Votre note QCM sera calcul√©e √† la fin de l'examen.</p>

                        <!-- SECTION A ‚Äî R√©seaux et Protocoles -->
                        <h4 class="qcm-section-title">SECTION A ‚Äî R√©seaux et Protocoles</h4>

                        <div class="qcm-item" data-qcm="q0-1">
                            <p class="qcm-question">1. Combien de couches poss√®de le mod√®le OSI ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-1" value="a"> a) 4</label>
                                <label><input type="radio" name="q0-1" value="b"> b) 5</label>
                                <label><input type="radio" name="q0-1" value="c"> c) 7</label>
                                <label><input type="radio" name="q0-1" value="d"> d) 3</label>
                                <label class="qcm-na"><input type="radio" name="q0-1" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-2">
                            <p class="qcm-question">2. √Ä quelle couche OSI fonctionne le protocole ARP ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-2" value="a"> a) Couche 1 ‚Äî Physique</label>
                                <label><input type="radio" name="q0-2" value="b"> b) Couche 2 ‚Äî Liaison</label>
                                <label><input type="radio" name="q0-2" value="c"> c) Couche 3 ‚Äî R√©seau</label>
                                <label><input type="radio" name="q0-2" value="d"> d) Couche 4 ‚Äî Transport</label>
                                <label class="qcm-na"><input type="radio" name="q0-2" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-3">
                            <p class="qcm-question">3. Quel protocole est utilis√© par la commande <code>ping</code> ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-3" value="a"> a) TCP</label>
                                <label><input type="radio" name="q0-3" value="b"> b) UDP</label>
                                <label><input type="radio" name="q0-3" value="c"> c) ICMP</label>
                                <label><input type="radio" name="q0-3" value="d"> d) ARP</label>
                                <label class="qcm-na"><input type="radio" name="q0-3" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-4">
                            <p class="qcm-question">4. Quel est le masque de sous-r√©seau correspondant √† un /24 ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-4" value="a"> a) 255.255.0.0</label>
                                <label><input type="radio" name="q0-4" value="b"> b) 255.255.255.0</label>
                                <label><input type="radio" name="q0-4" value="c"> c) 255.0.0.0</label>
                                <label><input type="radio" name="q0-4" value="d"> d) 255.255.255.128</label>
                                <label class="qcm-na"><input type="radio" name="q0-4" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-5">
                            <p class="qcm-question">5. Combien d'h√¥tes utilisables peuvent exister dans un r√©seau /24 ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-5" value="a"> a) 256</label>
                                <label><input type="radio" name="q0-5" value="b"> b) 254</label>
                                <label><input type="radio" name="q0-5" value="c"> c) 255</label>
                                <label><input type="radio" name="q0-5" value="d"> d) 128</label>
                                <label class="qcm-na"><input type="radio" name="q0-5" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-6">
                            <p class="qcm-question">6. Quelle affirmation est vraie concernant le protocole TCP ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-6" value="a"> a) TCP est un protocole fiable avec accus√© de r√©ception</label>
                                <label><input type="radio" name="q0-6" value="b"> b) TCP est un protocole non fiable sans connexion</label>
                                <label><input type="radio" name="q0-6" value="c"> c) TCP est uniquement utilis√© pour le streaming vid√©o</label>
                                <label><input type="radio" name="q0-6" value="d"> d) TCP ne fonctionne que sur le port 80</label>
                                <label class="qcm-na"><input type="radio" name="q0-6" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-7">
                            <p class="qcm-question">7. Qu'est-ce que l'ARP Poisoning ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-7" value="a"> a) Modifier les fichiers de configuration d'un routeur</label>
                                <label><input type="radio" name="q0-7" value="b"> b) Bloquer toutes les connexions r√©seau</label>
                                <label><input type="radio" name="q0-7" value="c"> c) Envoyer de fausses r√©ponses ARP pour intercepter le trafic (MITM)</label>
                                <label><input type="radio" name="q0-7" value="d"> d) Augmenter la vitesse du r√©seau local</label>
                                <label class="qcm-na"><input type="radio" name="q0-7" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-8">
                            <p class="qcm-question">8. Qu'est-ce qu'un tunnel ICMP ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-8" value="a"> a) Un tunnel VPN qui utilise le protocole ICMP pour se connecter</label>
                                <label><input type="radio" name="q0-8" value="b"> b) L'exfiltration de donn√©es cach√©es dans des paquets ICMP surdimensionn√©s</label>
                                <label><input type="radio" name="q0-8" value="c"> c) Un protocole de routage utilis√© par les routeurs</label>
                                <label><input type="radio" name="q0-8" value="d"> d) Un outil de diagnostic r√©seau du syst√®me Windows</label>
                                <label class="qcm-na"><input type="radio" name="q0-8" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-9">
                            <p class="qcm-question">9. Le mod√®le TCP/IP regroupe les communications en combien de couches ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-9" value="a"> a) 7</label>
                                <label><input type="radio" name="q0-9" value="b"> b) 4</label>
                                <label><input type="radio" name="q0-9" value="c"> c) 5</label>
                                <label><input type="radio" name="q0-9" value="d"> d) 3</label>
                                <label class="qcm-na"><input type="radio" name="q0-9" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-10">
                            <p class="qcm-question">10. Quelle couche OSI g√®re l'adressage IP ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-10" value="a"> a) Couche 1 ‚Äî Physique</label>
                                <label><input type="radio" name="q0-10" value="b"> b) Couche 2 ‚Äî Liaison</label>
                                <label><input type="radio" name="q0-10" value="c"> c) Couche 3 ‚Äî R√©seau</label>
                                <label><input type="radio" name="q0-10" value="d"> d) Couche 7 ‚Äî Application</label>
                                <label class="qcm-na"><input type="radio" name="q0-10" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <!-- SECTION B ‚Äî Adressage IP (Tableau √† compl√©ter) -->
                        <h4 class="qcm-section-title">SECTION B ‚Äî Adressage IP (Tableau √† compl√©ter)</h4>
                        <p class="qcm-table-desc">Compl√©tez les champs manquants du tableau d'adressage. √âcrivez ¬´ N/A ¬ª si vous ne connaissez pas la r√©ponse.</p>
                        <table class="data-table qcm-fill-table">
                            <thead><tr><th>R√©seau</th><th>CIDR</th><th>Masque</th><th>Nb h√¥tes utilisables</th></tr></thead>
                            <tbody>
                                <tr>
                                    <td>192.168.1.0</td>
                                    <td>/24</td>
                                    <td><input type="text" class="qcm-fill" name="fill-0-1" placeholder="Masque ?"></td>
                                    <td><input type="text" class="qcm-fill" name="fill-0-2" placeholder="Nb h√¥tes ?"></td>
                                </tr>
                                <tr>
                                    <td>10.0.0.0</td>
                                    <td>/8</td>
                                    <td><input type="text" class="qcm-fill" name="fill-0-3" placeholder="Masque ?"></td>
                                    <td><input type="text" class="qcm-fill" name="fill-0-4" placeholder="Nb h√¥tes ?"></td>
                                </tr>
                                <tr>
                                    <td>172.16.0.0</td>
                                    <td>/16</td>
                                    <td><input type="text" class="qcm-fill" name="fill-0-5" placeholder="Masque ?"></td>
                                    <td><input type="text" class="qcm-fill" name="fill-0-6" placeholder="Nb h√¥tes ?"></td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- SECTION C ‚Äî Git et GitHub -->
                        <h4 class="qcm-section-title">SECTION C ‚Äî Git et GitHub</h4>

                        <div class="qcm-item" data-qcm="q0-11">
                            <p class="qcm-question">11. Qu'est-ce qu'un repository Git ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-11" value="a"> a) Un logiciel pour naviguer sur Internet</label>
                                <label><input type="radio" name="q0-11" value="b"> b) Un dossier contenant le code source et tout son historique de versions</label>
                                <label><input type="radio" name="q0-11" value="c"> c) Un serveur de base de donn√©es</label>
                                <label class="qcm-na"><input type="radio" name="q0-11" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-12">
                            <p class="qcm-question">12. Que fait la commande <code>git commit</code> ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-12" value="a"> a) Envoie le code vers le serveur distant</label>
                                <label><input type="radio" name="q0-12" value="b"> b) Cr√©e une branche de d√©veloppement</label>
                                <label><input type="radio" name="q0-12" value="c"> c) Sauvegarde l'√©tat actuel du code dans l'historique local</label>
                                <label class="qcm-na"><input type="radio" name="q0-12" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-13">
                            <p class="qcm-question">13. Quelle est la diff√©rence entre <code>git push</code> et <code>git pull</code> ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-13" value="a"> a) push envoie les commits vers le serveur distant, pull les r√©cup√®re</label>
                                <label><input type="radio" name="q0-13" value="b"> b) push fusionne des branches, pull les supprime</label>
                                <label><input type="radio" name="q0-13" value="c"> c) Aucune diff√©rence, ce sont des synonymes</label>
                                <label class="qcm-na"><input type="radio" name="q0-13" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-14">
                            <p class="qcm-question">14. Qu'est-ce qu'une branche Git ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-14" value="a"> a) Un fichier de configuration</label>
                                <label><input type="radio" name="q0-14" value="b"> b) Une ligne de d√©veloppement parall√®le</label>
                                <label><input type="radio" name="q0-14" value="c"> c) Une copie de la base de donn√©es</label>
                                <label class="qcm-na"><input type="radio" name="q0-14" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-15">
                            <p class="qcm-question">15. Que permet GitHub par rapport √† Git ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-15" value="a"> a) Compiler du code Python</label>
                                <label><input type="radio" name="q0-15" value="b"> b) H√©berger les repositories en ligne et collaborer</label>
                                <label><input type="radio" name="q0-15" value="c"> c) Remplacer compl√®tement Git sur la machine locale</label>
                                <label class="qcm-na"><input type="radio" name="q0-15" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-16">
                            <p class="qcm-question">16. Qu'est-ce qu'un Pull Request ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-16" value="a"> a) Une commande pour t√©l√©charger du code</label>
                                <label><input type="radio" name="q0-16" value="b"> b) Une demande pour fusionner les modifications d'une branche dans une autre</label>
                                <label><input type="radio" name="q0-16" value="c"> c) Un rapport d'erreur automatique</label>
                                <label class="qcm-na"><input type="radio" name="q0-16" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-17">
                            <p class="qcm-question">17. Que fait la commande <code>git clone</code> ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-17" value="a"> a) Supprime un repository local</label>
                                <label><input type="radio" name="q0-17" value="b"> b) Cr√©e une copie locale compl√®te d'un repository distant</label>
                                <label><input type="radio" name="q0-17" value="c"> c) Fusionne deux branches ensemble</label>
                                <label class="qcm-na"><input type="radio" name="q0-17" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <!-- SECTION D ‚Äî Docker -->
                        <h4 class="qcm-section-title">SECTION D ‚Äî Docker</h4>

                        <div class="qcm-item" data-qcm="q0-18">
                            <p class="qcm-question">18. Qu'est-ce qu'une image Docker ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-18" value="a"> a) Un fichier de configuration r√©seau</label>
                                <label><input type="radio" name="q0-18" value="b"> b) Un mod√®le (template) en lecture seule pour cr√©er des conteneurs</label>
                                <label><input type="radio" name="q0-18" value="c"> c) Un script d'automatisation</label>
                                <label class="qcm-na"><input type="radio" name="q0-18" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-19">
                            <p class="qcm-question">19. Quelle est la diff√©rence principale entre un conteneur Docker et une VM ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-19" value="a"> a) Le conteneur partage le noyau de l'h√¥te, la VM a son propre noyau</label>
                                <label><input type="radio" name="q0-19" value="b"> b) La VM est plus rapide</label>
                                <label><input type="radio" name="q0-19" value="c"> c) Le conteneur n√©cessite plus de ressources</label>
                                <label class="qcm-na"><input type="radio" name="q0-19" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-20">
                            <p class="qcm-question">20. √Ä quoi sert un Dockerfile ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-20" value="a"> a) Stocker les donn√©es d'un conteneur</label>
                                <label><input type="radio" name="q0-20" value="b"> b) D√©crire les instructions pour construire une image Docker</label>
                                <label><input type="radio" name="q0-20" value="c"> c) G√©rer les volumes r√©seau</label>
                                <label class="qcm-na"><input type="radio" name="q0-20" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-21">
                            <p class="qcm-question">21. Qu'est-ce que Docker Hub ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-21" value="a"> a) Un IDE pour Docker</label>
                                <label><input type="radio" name="q0-21" value="b"> b) Un outil de monitoring de conteneurs</label>
                                <label><input type="radio" name="q0-21" value="c"> c) Un registre public pour stocker et partager des images Docker</label>
                                <label class="qcm-na"><input type="radio" name="q0-21" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-22">
                            <p class="qcm-question">22. Qu'est-ce qu'un volume Docker ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-22" value="a"> a) Un fichier de configuration du conteneur</label>
                                <label><input type="radio" name="q0-22" value="b"> b) Un m√©canisme de stockage persistant partag√© entre conteneur et h√¥te</label>
                                <label><input type="radio" name="q0-22" value="c"> c) Un type de r√©seau virtuel</label>
                                <label class="qcm-na"><input type="radio" name="q0-22" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-23">
                            <p class="qcm-question">23. Quelle commande cr√©e ET d√©marre un conteneur ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-23" value="a"> a) docker build</label>
                                <label><input type="radio" name="q0-23" value="b"> b) docker start</label>
                                <label><input type="radio" name="q0-23" value="c"> c) docker run</label>
                                <label class="qcm-na"><input type="radio" name="q0-23" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q0-24">
                            <p class="qcm-question">24. Pourquoi un conteneur d√©marre-t-il plus vite qu'une VM ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q0-24" value="a"> a) Il n'a pas besoin de d√©marrer un noyau OS complet</label>
                                <label><input type="radio" name="q0-24" value="b"> b) Il utilise plus de m√©moire RAM</label>
                                <label><input type="radio" name="q0-24" value="c"> c) Il est compil√© en binaire statique</label>
                                <label class="qcm-na"><input type="radio" name="q0-24" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <button class="btn-terminal quiz-submit" data-level="level0">[ SOUMETTRE MES R√âPONSES ]</button>
                        <p class="quiz-hint" id="quiz-hint-level0"></p>
                    </div>
                    <div class="level-complete-banner hidden" id="banner-level0">
                        üéâ NIVEAU 0 COMPL√âT√â ‚Äî R√©ponses enregistr√©es
                        <div class="code-reveal-inline">üîë Code Niveau 1 : <span class="code-value" id="code-value-level0"></span></div>
                    </div>
                </section>

                <!-- ======================================== -->
                <!-- LEVEL 1 ‚Äî Analyse des Logs               -->
                <!-- ======================================== -->
                <section class="level-content hidden" id="content-level1">
                    <div class="content-header">
                        <h2>üîç NIVEAU 1 ‚Äî ANALYSE DES LOGS (45 min)</h2>
                        <div class="classification">DUR√âE ESTIM√âE : 45 MINUTES</div>
                    </div>
                    <div class="comm-message">
                        <div class="comm-sender">üì® MSG DE : Analyste de quart</div>
                        <div class="comm-body">
                            <p>¬´ On a 6 fichiers de logs des 3 derni√®res heures. C'est le chaos total. Commencez par le pare-feu et les logs ARP. L'IP de l'attaquant est 185.220.101.47. Une machine de notre r√©seau interne a √©t√© compromise et sert de pivot. Trouvez-la. ¬ª</p>
                        </div>
                    </div>

                    <div class="objectives-panel" id="objectives-level1">
                        <div class="objectives-header">
                            <h3>üéØ OBJECTIFS √Ä VALIDER</h3>
                            <div class="objectives-progress">
                                <div class="progress-bar"><div class="progress-fill" id="progress-level1"></div></div>
                                <span class="progress-text" id="progress-text-level1">0 / 5</span>
                            </div>
                        </div>
                        <p class="objectives-desc">Utilisez le terminal ci-dessous pour analyser les logs. Les objectifs se valident automatiquement.</p>
                        <div class="objectives-list">
                            <div class="obj-item" data-obj="l1-attacker"><span class="obj-check">‚óã</span><span class="obj-text">Afficher les lignes de l'IP attaquant dans le pare-feu</span></div>
                            <div class="obj-item" data-obj="l1-blocked"><span class="obj-check">‚óã</span><span class="obj-text">Compter les ports scann√©s (BLOCK) par l'attaquant</span></div>
                            <div class="obj-item" data-obj="l1-icmp"><span class="obj-check">‚óã</span><span class="obj-text">Filtrer les paquets ICMP suspects (tunnel)</span></div>
                            <div class="obj-item" data-obj="l1-arp"><span class="obj-check">‚óã</span><span class="obj-text">Identifier la MAC suspecte dans arp_poison.log</span></div>
                            <div class="obj-item" data-obj="l1-scada"><span class="obj-check">‚óã</span><span class="obj-text">Trouver les valeurs falsifi√©es SCADA</span></div>
                        </div>
                        <div class="level-complete-banner hidden" id="banner-level1">
                            üéâ NIVEAU 1 COMPL√âT√â ‚Äî ACC√àS AU NIVEAU 2 D√âVERROUILL√â
                            <div class="code-reveal-inline">üîë Code Niveau 2 : <span class="code-value" id="code-value-level1"></span></div>
                        </div>
                    </div>

                    <!-- Compteur de r√©ponses √©crites -->
                    <div class="answers-tracker" id="answers-tracker-level1">
                        <span>üìù R√©ponses √©crites :</span>
                        <span class="answers-count" id="answers-count-level1">0 / 20</span>
                        <small>(toutes les r√©ponses doivent √™tre remplies pour compl√©ter le niveau)</small>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 1.1 ‚Äî Trouver les connexions de l'attaquant (grep)</h3>
                        <div class="context-box">
                            <strong>Contexte :</strong> Le pare-feu bloque normalement tout acc√®s direct depuis Internet. Cherchez l'IP <code>185.220.101.47</code> dans <code>pare_feu.log</code>.
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question A :</strong> √âcrivez la commande pour afficher toutes les lignes du pare-feu qui mentionnent l'IP de l'attaquant.</p>
                            <textarea class="level-answer" data-question="m1.1-a" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question B :</strong> Combien de ports a-t-il tent√© de scanner au d√©part (lignes BLOCK) ? √âcrivez la commande.</p>
                            <textarea class="level-answer" data-question="m1.1-b" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question C :</strong> Quels ports a-t-il tent√© de scanner ? √âcrivez la commande pour extraire les num√©ros de port uniquement.</p>
                            <textarea class="level-answer" data-question="m1.1-c" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question D :</strong> Quelles machines internes ont √©tabli des connexions sortantes vers l'attaquant (lignes ALLOW) ? √âcrivez la commande.</p>
                            <textarea class="level-answer" data-question="m1.1-d" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 1.2 ‚Äî D√©tecter le tunnel ICMP (grep + awk)</h3>
                        <div class="context-box">
                            <strong>Contexte :</strong> Un ping normal fait 84 octets. Au-del√†, c'est un tunnel de donn√©es. Analysez <code>icmp_tunnel.log</code>.
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question A :</strong> √âcrivez la commande pour filtrer uniquement les lignes <code>SUSPECT</code> dans icmp_tunnel.log.</p>
                            <textarea class="level-answer" data-question="m1.2-a" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question B :</strong> √âcrivez la commande pour extraire uniquement les commandes ex√©cut√©es par l'attaquant via le tunnel.</p>
                            <textarea class="level-answer" data-question="m1.2-b" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question C :</strong> Quelle diff√©rence de taille y a-t-il entre un ping normal et les pings tunnelis√©s ?</p>
                            <textarea class="level-answer" data-question="m1.2-c" data-level="level1" placeholder="Votre r√©ponse..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 1.3 ‚Äî Analyser l'ARP poisoning (grep + awk)</h3>
                        <div class="context-box">
                            <strong>Contexte :</strong> L'attaquant a falsifi√© les tables ARP du r√©seau CHUM. Cherchez dans <code>arp_poison.log</code>.
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question A :</strong> √âcrivez la commande pour trouver √† quelle heure exacte la table ARP a √©t√© corrompue pour la premi√®re fois.</p>
                            <textarea class="level-answer" data-question="m1.3-a" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question B :</strong> Quelle adresse MAC est utilis√©e par l'attaquant ? √âcrivez la commande.</p>
                            <textarea class="level-answer" data-question="m1.3-b" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question C :</strong> Combien de minutes se sont √©coul√©es entre le d√©but du poisoning et le premier MITM actif ?</p>
                            <textarea class="level-answer" data-question="m1.3-c" data-level="level1" placeholder="Votre r√©ponse..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 1.4 ‚Äî Analyser les alertes SCADA (grep + awk + sed)</h3>
                        <div class="context-box">
                            <strong>Contexte :</strong> Des valeurs ont √©t√© falsifi√©es dans le syst√®me SCADA. Analysez <code>scada_alerte.log</code>.
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question A :</strong> √âcrivez la commande pour identifier toutes les valeurs falsifi√©es.</p>
                            <textarea class="level-answer" data-question="m1.4-a" data-level="level1" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question B :</strong> Quelle est la valeur r√©elle vs la valeur falsifi√©e pour la tension √©lectrique ?</p>
                            <textarea class="level-answer" data-question="m1.4-b" data-level="level1" placeholder="Votre r√©ponse..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 1.5 ‚Äî Timeline compl√®te (grep + sort)</h3>
                        <div class="context-box">
                            <strong>Contexte :</strong> Reconstituez la chronologie compl√®te de l'attaque en combinant l'analyse de plusieurs fichiers de logs.
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question :</strong> √âcrivez une commande combinant <code>grep</code> sur plusieurs fichiers pour reconstituer l'ordre des √©v√©nements suspects.</p>
                            <textarea class="level-answer" data-question="m1.5-cmd" data-level="level1" placeholder="Votre commande..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>üìã <strong>Tableau de la timeline :</strong> Remplissez les √©v√©nements correspondant √† chaque heure.</p>
                            <table class="data-table timeline-table">
                                <thead><tr><th>Heure</th><th>√âv√©nement</th></tr></thead>
                                <tbody>
                                    <tr><td>21:33</td><td><input type="text" class="level-answer timeline-input" data-question="m1.5-t1" data-level="level1" placeholder="√âv√©nement..."></td></tr>
                                    <tr><td>22:00 ‚Äì 22:15</td><td><input type="text" class="level-answer timeline-input" data-question="m1.5-t2" data-level="level1" placeholder="√âv√©nement..."></td></tr>
                                    <tr><td>22:10 ‚Äì 22:11</td><td><input type="text" class="level-answer timeline-input" data-question="m1.5-t3" data-level="level1" placeholder="√âv√©nement..."></td></tr>
                                    <tr><td>22:45 ‚Äì 22:52</td><td><input type="text" class="level-answer timeline-input" data-question="m1.5-t4" data-level="level1" placeholder="√âv√©nement..."></td></tr>
                                    <tr><td>23:00</td><td><input type="text" class="level-answer timeline-input" data-question="m1.5-t5" data-level="level1" placeholder="√âv√©nement..."></td></tr>
                                    <tr><td>23:58</td><td><input type="text" class="level-answer timeline-input" data-question="m1.5-t6" data-level="level1" placeholder="√âv√©nement..."></td></tr>
                                    <tr><td>23:59</td><td><input type="text" class="level-answer timeline-input" data-question="m1.5-t7" data-level="level1" placeholder="√âv√©nement..."></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- TERMINAL NIVEAU 1 -->
                    <div class="terminal-section">
                        <h3>üíª Terminal d'analyse</h3>
                        <p class="terminal-desc">Analysez les fichiers de logs avec les commandes grep, awk, sed, sort.</p>
                        <div class="instruction-box">
                            üìå <strong>Instruction :</strong> Pour chaque commande r√©pondant √† une question, ajoutez un commentaire √† la fin de votre ligne :<br>
                            <code># mission 1.1 question A</code> &nbsp;ou&nbsp; <code># mission 1.3 question 1</code><br>
                            Cela permet d'identifier quelle question votre commande adresse.
                        </div>
                        <div class="sim-terminal" id="term-level1" data-level="level1">
                            <div class="sim-header">
                                <span class="sim-dot red"></span>
                                <span class="sim-dot yellow"></span>
                                <span class="sim-dot green"></span>
                                <span class="sim-title">agent@cert-qc:~/logs_blackout$</span>
                            </div>
                            <div class="sim-output"></div>
                            <div class="sim-input-line">
                                <span class="sim-prompt">$</span>
                                <input type="text" class="sim-input" placeholder="Tapez une commande..." spellcheck="false" autocomplete="off">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ======================================== -->
                <!-- LEVEL 2 ‚Äî R√©seaux, ARP, ICMP             -->
                <!-- ======================================== -->
                <section class="level-content hidden" id="content-level2">
                    <div class="content-header">
                        <h2>üåê NIVEAU 2 ‚Äî R√âSEAUX, SOUS-R√âSEAUX, ARP ET ICMP (40 min)</h2>
                        <div class="classification">DUR√âE ESTIM√âE : 40 MINUTES</div>
                    </div>
                    <div class="comm-message">
                        <div class="comm-sender">üì® MSG DE : Responsable r√©seau</div>
                        <div class="comm-body">
                            <p>¬´ On a besoin de comprendre l'√©tendue des d√©g√¢ts. Quels sous-r√©seaux sont touch√©s ? Comment re-segmenter pour isoler le SCADA ? Et ces routes dans notre table de routage ‚Äî elles ne viennent pas de nous. ¬ª</p>
                        </div>
                    </div>

                    <div class="objectives-panel" id="objectives-level2">
                        <div class="objectives-header">
                            <h3>üéØ OBJECTIFS √Ä VALIDER</h3>
                            <div class="objectives-progress">
                                <div class="progress-bar"><div class="progress-fill" id="progress-level2"></div></div>
                                <span class="progress-text" id="progress-text-level2">0 / 4</span>
                            </div>
                        </div>
                        <p class="objectives-desc">Analysez les routes et les connexions suspectes dans le terminal.</p>
                        <div class="objectives-list">
                            <div class="obj-item" data-obj="l2-routes"><span class="obj-check">‚óã</span><span class="obj-text">Trouver les routes inject√©es dans la table de routage</span></div>
                            <div class="obj-item" data-obj="l2-pivot"><span class="obj-check">‚óã</span><span class="obj-text">Identifier la machine pivot de l'attaquant</span></div>
                            <div class="obj-item" data-obj="l2-cmds"><span class="obj-check">‚óã</span><span class="obj-text">Extraire les commandes ex√©cut√©es via tunnel ICMP</span></div>
                            <div class="obj-item" data-obj="l2-compromised"><span class="obj-check">‚óã</span><span class="obj-text">Lister les machines internes compromises</span></div>
                        </div>
                        <div class="level-complete-banner hidden" id="banner-level2">
                            üéâ NIVEAU 2 COMPL√âT√â ‚Äî ACC√àS AU NIVEAU 3 D√âVERROUILL√â
                            <div class="code-reveal-inline">üîë Code Niveau 3 : <span class="code-value" id="code-value-level2"></span></div>
                        </div>
                    </div>

                    <!-- Compteur de r√©ponses √©crites -->
                    <div class="answers-tracker" id="answers-tracker-level2">
                        <span>üìù R√©ponses √©crites :</span>
                        <span class="answers-count" id="answers-count-level2">0 / 24</span>
                        <small>(toutes les r√©ponses doivent √™tre remplies pour compl√©ter le niveau)</small>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 2.1 ‚Äî Calcul de sous-r√©seaux (exercice pratique)</h3>
                        <div class="context-box">
                            <strong>Exercice :</strong> Pour chaque r√©seau de la ville, calculez les informations demand√©es.
                        </div>
                        <table class="data-table subnet-table">
                            <thead><tr><th>R√©seau</th><th>CIDR</th><th>Masque</th><th>1re IP h√¥te</th><th>Derni√®re IP h√¥te</th><th>Broadcast</th></tr></thead>
                            <tbody>
                                <tr>
                                    <td>10.100.1.0</td><td>/24</td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r1-mask" data-level="level2" placeholder="Masque ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r1-first" data-level="level2" placeholder="1re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r1-last" data-level="level2" placeholder="Derni√®re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r1-bcast" data-level="level2" placeholder="Broadcast ?"></td>
                                </tr>
                                <tr>
                                    <td>10.100.3.0</td><td>/24</td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r2-mask" data-level="level2" placeholder="Masque ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r2-first" data-level="level2" placeholder="1re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r2-last" data-level="level2" placeholder="Derni√®re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r2-bcast" data-level="level2" placeholder="Broadcast ?"></td>
                                </tr>
                                <tr>
                                    <td>10.100.0.0</td><td>/16</td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r3-mask" data-level="level2" placeholder="Masque ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r3-first" data-level="level2" placeholder="1re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r3-last" data-level="level2" placeholder="Derni√®re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r3-bcast" data-level="level2" placeholder="Broadcast ?"></td>
                                </tr>
                                <tr>
                                    <td>172.16.0.0</td><td>/12</td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r4-mask" data-level="level2" placeholder="Masque ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r4-first" data-level="level2" placeholder="1re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r4-last" data-level="level2" placeholder="Derni√®re IP ?"></td>
                                    <td><input type="text" class="level-answer subnet-input" data-question="m2.1-r4-bcast" data-level="level2" placeholder="Broadcast ?"></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="question-box">
                            <p>‚≠ê <strong>Question bonus :</strong> L'adresse <code>10.100.3.200</code> (machine de l'attaquant dans le CHUM) fait-elle partie du r√©seau <code>10.100.3.0/24</code> ? Justifiez.</p>
                            <textarea class="level-answer" data-question="m2.1-bonus" data-level="level2" placeholder="Votre justification..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 2.2 ‚Äî Routes inject√©es (lecture de table de routage)</h3>
                        <div class="question-box">
                            <p>‚ùì <strong>Question A :</strong> √âcrivez la commande pour afficher uniquement les routes suspectes dans <code>table_routage.txt</code>.</p>
                            <textarea class="level-answer" data-question="m2.2-a" data-level="level2" placeholder="Votre commande..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question B :</strong> Vers quelle machine toutes les routes inject√©es pointent-elles ? √âcrivez la commande.</p>
                            <textarea class="level-answer" data-question="m2.2-b" data-level="level2" placeholder="Votre commande et/ou r√©ponse..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question C :</strong> Quels r√©seaux critiques sont maintenant redirig√©s vers l'attaquant ?</p>
                            <textarea class="level-answer" data-question="m2.2-c" data-level="level2" placeholder="Votre r√©ponse..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 2.3 ‚Äî Analyse des flags TCP dans le pare-feu</h3>
                        <div class="context-box">
                            <strong>Rappel du Three-Way Handshake TCP :</strong>
                            <pre class="code-display" style="margin-top:8px;">Client -> Serveur : SYN      (je veux me connecter)
Serveur -> Client : SYN-ACK  (OK, je suis pr√™t)
Client -> Serveur : ACK      (connexion √©tablie)
     Ensuite...
Client -> Serveur : PSH-ACK  (envoi de donn√©es)</pre>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question :</strong> Identifiez dans <code>pare_feu.log</code> les connexions o√π des donn√©es sont transmises (flag PSH-ACK) vers l'attaquant. √âcrivez la commande.</p>
                            <textarea class="level-answer" data-question="m2.3-a" data-level="level2" placeholder="Votre commande..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 2.4 ‚Äî Questions de compr√©hension (reverse shell)</h3>
                        <div class="question-box">
                            <p>‚ùì <strong>Question 1 :</strong> Quel port est utilis√© dans <code>pare_feu.log</code> pour le reverse shell vers <code>10.100.1.88</code> ?</p>
                            <textarea class="level-answer" data-question="m2.4-1" data-level="level2" placeholder="Votre r√©ponse..." rows="1"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question 2 :</strong> Pourquoi l'attaquant utilise-t-il un <strong>reverse shell</strong> (connexion sortante) plut√¥t qu'une connexion entrante directe ?</p>
                            <textarea class="level-answer" data-question="m2.4-2" data-level="level2" placeholder="Votre explication..." rows="3"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question 3 :</strong> √Ä quelle couche du mod√®le TCP/IP appartient netcat ?</p>
                            <textarea class="level-answer" data-question="m2.4-3" data-level="level2" placeholder="Votre r√©ponse..." rows="1"></textarea>
                        </div>
                    </div>

                    <!-- TERMINAL NIVEAU 2 -->
                    <div class="terminal-section">
                        <h3>üíª Terminal de surveillance r√©seau</h3>
                        <p class="terminal-desc">Analysez les routes, connexions et protocoles du r√©seau de la ville.</p>
                        <div class="instruction-box">
                            üìå <strong>Instruction :</strong> Pour chaque commande r√©pondant √† une question, ajoutez un commentaire √† la fin de votre ligne :<br>
                            <code># mission 2.2 question A</code> &nbsp;ou&nbsp; <code># mission 2.3 question 1</code><br>
                            Cela permet d'identifier quelle question votre commande adresse.
                        </div>
                        <div class="sim-terminal" id="term-level2" data-level="level2">
                            <div class="sim-header">
                                <span class="sim-dot red"></span>
                                <span class="sim-dot yellow"></span>
                                <span class="sim-dot green"></span>
                                <span class="sim-title">agent@cert-qc:~/logs_blackout$</span>
                            </div>
                            <div class="sim-output"></div>
                            <div class="sim-input-line">
                                <span class="sim-prompt">$</span>
                                <input type="text" class="sim-input" placeholder="Tapez une commande..." spellcheck="false" autocomplete="off">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ======================================== -->
                <!-- LEVEL 3 ‚Äî Git & Docker Th√©orie           -->
                <!-- ======================================== -->
                <section class="level-content hidden" id="content-level3">
                    <div class="content-header">
                        <h2>üê≥ NIVEAU 3 ‚Äî GIT ET DOCKER : TH√âORIE ESSENTIELLE (30 min)</h2>
                        <div class="classification">NIVEAU TH√âORIQUE ‚Äî PAS DE COMMANDES</div>
                    </div>
                    <div class="comm-message">
                        <div class="comm-sender">üì® MSG DE : Commandant CERT-QC</div>
                        <div class="comm-body">
                            <p>¬´ Ce niveau est th√©orique. Comprenez les concepts de Git et Docker ‚Äî ils expliquent comment l'attaquant s'est propag√© via le serveur DevOps 192.168.100.88. Consultez le document distribu√© par votre commandant. ¬ª</p>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üåø Git ‚Äî Gestion de versions</h3>
                        <div class="context-box">
                            Git permet √† des d√©veloppeurs de travailler ensemble sur le m√™me code sans s'√©craser. L'attaquant a compromis le serveur de d√©ploiement et modifi√© du code d√©ploy√© automatiquement.
                        </div>
                        <table class="data-table">
                            <thead><tr><th>Concept</th><th>D√©finition</th></tr></thead>
                            <tbody>
                                <tr><td>Repository</td><td>Dossier contenant le code + historique</td></tr>
                                <tr><td>Commit</td><td>Sauvegarde du code √† un instant pr√©cis</td></tr>
                                <tr><td>Branch</td><td>Ligne de travail s√©par√©e</td></tr>
                                <tr><td>Push</td><td>Envoyer ses commits vers le serveur</td></tr>
                                <tr><td>Pull</td><td>R√©cup√©rer les derniers commits</td></tr>
                                <tr><td>Merge</td><td>Fusionner deux branches</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="mission-block">
                        <h3>üê≥ Docker ‚Äî Conteneurs</h3>
                        <div class="context-box">
                            Docker ex√©cute des applications dans des <strong>conteneurs</strong> isol√©s. Le serveur <code>192.168.100.88</code> avait un conteneur mal configur√© avec acc√®s au disque de l'h√¥te ‚Äî permettant √† l'attaquant de s'√©chapper.
                        </div>
                        <table class="data-table">
                            <thead><tr><th>Terme</th><th>D√©finition</th></tr></thead>
                            <tbody>
                                <tr><td>Image</td><td>Mod√®le (recette) pour cr√©er un conteneur</td></tr>
                                <tr><td>Conteneur</td><td>Instance en cours d'ex√©cution</td></tr>
                                <tr><td>Dockerfile</td><td>Fichier d√©crivant la construction</td></tr>
                                <tr><td>Registry</td><td>Entrep√¥t d'images (Docker Hub)</td></tr>
                                <tr><td>Volume</td><td>Dossier partag√© conteneur ‚Üî h√¥te</td></tr>
                            </tbody>
                        </table>
                        <div class="code-display">
<pre>Machine Virtuelle           Conteneur Docker
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ          ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Noyau OS complet            Partage le noyau de l'h√¥te
D√©marrage en minutes        D√©marrage en secondes
Isolation forte             Isolation plus l√©g√®re
500 Mo √† 10 Go              50 Mo √† 500 Mo</pre>
                        </div>
                    </div>

                    <!-- QUIZ LEVEL 3 -->
                    <div class="quiz-panel qcm-panel" id="quiz-level3">
                        <h3>üìã QCM ‚Äî Niveau 3 (Sc√©nario Git & Docker)</h3>
                        <p class="quiz-desc">R√©pondez √† toutes les questions. S√©lectionnez ¬´ Je ne sais pas ¬ª si n√©cessaire. Aucun r√©sultat ne sera affich√©.</p>

                        <div class="qcm-item" data-qcm="q3-1">
                            <p class="qcm-question">1. Quelle machine du r√©seau faisait tourner les conteneurs Docker compromis ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q3-1" value="a"> a) 10.100.1.15</label>
                                <label><input type="radio" name="q3-1" value="b"> b) 185.220.101.47</label>
                                <label><input type="radio" name="q3-1" value="c"> c) 192.168.100.88</label>
                                <label><input type="radio" name="q3-1" value="d"> d) 10.100.3.42</label>
                                <label class="qcm-na"><input type="radio" name="q3-1" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q3-2">
                            <p class="qcm-question">2. Un <code>git commit</code> sauvegarde le code de mani√®re...</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q3-2" value="a"> a) Distante uniquement (sur GitHub)</label>
                                <label><input type="radio" name="q3-2" value="b"> b) Locale avant d'√™tre pouss√©e avec git push</label>
                                <label><input type="radio" name="q3-2" value="c"> c) Automatique sans intervention</label>
                                <label><input type="radio" name="q3-2" value="d"> d) Temporaire ‚Äî elle s'efface apr√®s 24h</label>
                                <label class="qcm-na"><input type="radio" name="q3-2" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q3-3">
                            <p class="qcm-question">3. Un conteneur Docker partage quel composant avec la machine h√¥te ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q3-3" value="a"> a) La carte graphique (GPU)</label>
                                <label><input type="radio" name="q3-3" value="b"> b) L'√©cran et le clavier</label>
                                <label><input type="radio" name="q3-3" value="c"> c) Le noyau (kernel) du syst√®me d'exploitation</label>
                                <label><input type="radio" name="q3-3" value="d"> d) Le disque dur complet</label>
                                <label class="qcm-na"><input type="radio" name="q3-3" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q3-4">
                            <p class="qcm-question">4. Comment l'attaquant a-t-il exploit√© le conteneur Docker mal configur√© ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q3-4" value="a"> a) Via un volume mont√© donnant acc√®s au disque de l'h√¥te</label>
                                <label><input type="radio" name="q3-4" value="b"> b) En red√©marrant le serveur physique</label>
                                <label><input type="radio" name="q3-4" value="c"> c) En changeant l'image Docker sur Docker Hub</label>
                                <label><input type="radio" name="q3-4" value="d"> d) En supprimant le Dockerfile</label>
                                <label class="qcm-na"><input type="radio" name="q3-4" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <div class="qcm-item" data-qcm="q3-5">
                            <p class="qcm-question">5. Quelle commande Git permet de voir l'historique des modifications ?</p>
                            <div class="qcm-options">
                                <label><input type="radio" name="q3-5" value="a"> a) git status</label>
                                <label><input type="radio" name="q3-5" value="b"> b) git log</label>
                                <label><input type="radio" name="q3-5" value="c"> c) git diff</label>
                                <label><input type="radio" name="q3-5" value="d"> d) git init</label>
                                <label class="qcm-na"><input type="radio" name="q3-5" value="na"> Je ne sais pas</label>
                            </div>
                        </div>

                        <button class="btn-terminal quiz-submit" data-level="level3">[ SOUMETTRE MES R√âPONSES ]</button>
                        <p class="quiz-hint" id="quiz-hint-level3"></p>
                    </div>
                    <div class="level-complete-banner hidden" id="banner-level3">
                        üéâ NIVEAU 3 COMPL√âT√â
                        <div class="code-reveal-inline">üîë Code Niveau 4 : <span class="code-value" id="code-value-level3"></span></div>
                    </div>
                </section>

                <!-- ======================================== -->
                <!-- LEVEL 4 ‚Äî D√©codage Hex + DNS              -->
                <!-- ======================================== -->
                <section class="level-content hidden" id="content-level4">
                    <div class="content-header">
                        <h2>üî¢ NIVEAU 4 ‚Äî D√âCODAGE HEXAD√âCIMAL ET DNS TUNNELING (30 min)</h2>
                        <div class="classification">DUR√âE ESTIM√âE : 30 MINUTES</div>
                    </div>
                    <div class="comm-message">
                        <div class="comm-sender">üì® MSG DE : Analyste r√©seau</div>
                        <div class="comm-body">
                            <p>¬´ On a trouv√© des requ√™tes DNS tr√®s bizarres. Les noms de domaines sont remplis de chiffres et de lettres a √† f. C'est de l'hexad√©cimal. L'attaquant envoie des messages cod√©s dans des requ√™tes DNS normales. On a besoin que vous les d√©codiez. ¬ª</p>
                        </div>
                    </div>

                    <div class="objectives-panel" id="objectives-level4">
                        <div class="objectives-header">
                            <h3>üéØ OBJECTIFS √Ä VALIDER</h3>
                            <div class="objectives-progress">
                                <div class="progress-bar"><div class="progress-fill" id="progress-level4"></div></div>
                                <span class="progress-text" id="progress-text-level4">0 / 3</span>
                            </div>
                        </div>
                        <p class="objectives-desc">Analysez les requ√™tes DNS et d√©codez les donn√©es hexad√©cimales.</p>
                        <div class="objectives-list">
                            <div class="obj-item" data-obj="l4-dns"><span class="obj-check">‚óã</span><span class="obj-text">Filtrer les requ√™tes DNS suspectes (DNS-TUNNEL)</span></div>
                            <div class="obj-item" data-obj="l4-sources"><span class="obj-check">‚óã</span><span class="obj-text">Identifier les machines sources des requ√™tes tunnel</span></div>
                            <div class="obj-item" data-obj="l4-hex"><span class="obj-check">‚óã</span><span class="obj-text">Extraire les sous-domaines hex des requ√™tes DNS</span></div>
                        </div>
                        <div class="level-complete-banner hidden" id="banner-level4">
                            üéâ NIVEAU 4 COMPL√âT√â ‚Äî ACC√àS AU NIVEAU 5 D√âVERROUILL√â
                            <div class="code-reveal-inline">üîë Code Niveau 5 : <span class="code-value" id="code-value-level4"></span></div>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üî¢ Rappel : Hexad√©cimal (base 16)</h3>
                        <div class="context-box">
                            Chaque octet = 2 chiffres hex. Le mot <code>root</code> en hex = <code>726f6f74</code>.
                        </div>
                        <div class="code-display">
<pre>Caract√®re | ASCII (d√©c) | Hex
r         | 114         | 72
o         | 111         | 6f
o         | 111         | 6f
t         | 116         | 74

D√©coder : python3 -c "print(bytes.fromhex('726f6f74').decode())"</pre>
                        </div>
                    </div>

                    <!-- Compteur de r√©ponses √©crites -->
                    <div class="answers-tracker" id="answers-tracker-level4">
                        <span>üìù R√©ponses √©crites :</span>
                        <span class="answers-count" id="answers-count-level4">0 / 10</span>
                        <small>(toutes les r√©ponses doivent √™tre remplies pour compl√©ter le niveau)</small>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 4.1 ‚Äî Identifier les requ√™tes DNS suspectes</h3>
                        <div class="question-box">
                            <p>‚ùì <strong>Question A :</strong> √âcrivez la commande pour afficher toutes les requ√™tes suspectes vers le domaine C2 de l'attaquant.</p>
                            <textarea class="level-answer" data-question="m4.1-a" data-level="level4" placeholder="Votre commande..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question B :</strong> Combien de requ√™tes normales vs suspectes y a-t-il ? √âcrivez les commandes.</p>
                            <textarea class="level-answer" data-question="m4.1-b" data-level="level4" placeholder="Vos commandes..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question C :</strong> Depuis quelles machines internes partent les requ√™tes DNS suspectes ? √âcrivez la commande.</p>
                            <textarea class="level-answer" data-question="m4.1-c" data-level="level4" placeholder="Votre commande..." rows="2"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 4.2 ‚Äî Extraire et d√©coder les sous-domaines hexad√©cimaux</h3>
                        <div class="question-box">
                            <p>‚ùì <strong>Question A :</strong> √âcrivez la commande pour extraire uniquement les sous-domaines hexad√©cimaux (la partie avant <code>.blackout-c2.xyz</code>).</p>
                            <textarea class="level-answer" data-question="m4.2-a" data-level="level4" placeholder="Votre commande..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question B :</strong> D√©codez les cha√Ænes hexad√©cimales suivantes en texte lisible (√† la main ou avec Python) :</p>
                            <table class="data-table subnet-table">
                                <thead><tr><th>Cha√Æne hex</th><th>Texte d√©cod√©</th></tr></thead>
                                <tbody>
                                    <tr><td><code>726f6f74</code></td><td><input type="text" class="level-answer subnet-input" data-question="m4.2-hex1" data-level="level4" placeholder="Texte d√©cod√© ?"></td></tr>
                                    <tr><td><code>70617373776f7264</code></td><td><input type="text" class="level-answer subnet-input" data-question="m4.2-hex2" data-level="level4" placeholder="Texte d√©cod√© ?"></td></tr>
                                    <tr><td><code>2f6574632f736861646f77</code></td><td><input type="text" class="level-answer subnet-input" data-question="m4.2-hex3" data-level="level4" placeholder="Texte d√©cod√© ?"></td></tr>
                                    <tr><td><code>676974687562</code></td><td><input type="text" class="level-answer subnet-input" data-question="m4.2-hex4" data-level="level4" placeholder="Texte d√©cod√© ?"></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 4.3 ‚Äî Exercice de conversion hex ‚Üî binaire</h3>
                        <div class="context-box">
                            <strong>Rappel :</strong> 1 chiffre hex = 4 bits
                            <table class="data-table" style="margin-top:8px;">
                                <thead><tr><th>Hex</th><th>0</th><th>7</th><th>2</th><th>a</th><th>f</th></tr></thead>
                                <tbody><tr><td><strong>Binaire</strong></td><td>0000</td><td>0111</td><td>0010</td><td>1010</td><td>1111</td></tr></tbody>
                            </table>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question :</strong> Convertissez le premier octet du mot <code>root</code> (<code>72</code> en hex) en binaire. D√©taillez votre calcul.</p>
                            <textarea class="level-answer" data-question="m4.3-binaire" data-level="level4" placeholder="Votre calcul d√©taill√©..." rows="3"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚≠ê <strong>Question bonus :</strong> Donnez 3 exemples concrets d'utilisation de la notation hexad√©cimale dans la vie courante en r√©seau/informatique.</p>
                            <textarea class="level-answer" data-question="m4.3-bonus" data-level="level4" placeholder="Vos 3 exemples..." rows="3"></textarea>
                        </div>
                    </div>

                    <!-- TERMINAL NIVEAU 4 -->
                    <div class="terminal-section">
                        <h3>üíª Terminal d'analyse DNS</h3>
                        <p class="terminal-desc">Analysez les requ√™tes DNS et identifiez les donn√©es exfiltr√©es.</p>
                        <div class="instruction-box">
                            üìå <strong>Instruction :</strong> Pour chaque commande r√©pondant √† une question, ajoutez un commentaire √† la fin de votre ligne :<br>
                            <code># mission 4.1 question A</code> &nbsp;ou&nbsp; <code># mission 4.2 question 1</code><br>
                            Cela permet d'identifier quelle question votre commande adresse.
                        </div>
                        <div class="sim-terminal" id="term-level4" data-level="level4">
                            <div class="sim-header">
                                <span class="sim-dot red"></span>
                                <span class="sim-dot yellow"></span>
                                <span class="sim-dot green"></span>
                                <span class="sim-title">agent@cert-qc:~/logs_blackout$</span>
                            </div>
                            <div class="sim-output"></div>
                            <div class="sim-input-line">
                                <span class="sim-prompt">$</span>
                                <input type="text" class="sim-input" placeholder="Tapez une commande..." spellcheck="false" autocomplete="off">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ======================================== -->
                <!-- LEVEL 5 ‚Äî Scripts de D√©fense              -->
                <!-- ======================================== -->
                <section class="level-content hidden" id="content-level5">
                    <div class="content-header">
                        <h2>üõ°Ô∏è NIVEAU 5 ‚Äî SCRIPTS DE D√âFENSE (45 min)</h2>
                        <div class="classification">DUR√âE ESTIM√âE : 45 MINUTES</div>
                    </div>
                    <div class="comm-message urgent">
                        <div class="comm-sender">üö® MSG URGENT DE : Direction CSIVM</div>
                        <div class="comm-body">
                            <p>¬´ On a besoin d'outils maintenant. Trois scripts √† produire. Pour chaque script, la structure de base est fournie ‚Äî compl√©tez les parties manquantes. Ces outils seront d√©ploy√©s ce soir m√™me. ¬ª</p>
                        </div>
                    </div>

                    <div class="objectives-panel" id="objectives-level5">
                        <div class="objectives-header">
                            <h3>üéØ OBJECTIFS √Ä VALIDER</h3>
                            <div class="objectives-progress">
                                <div class="progress-bar"><div class="progress-fill" id="progress-level5"></div></div>
                                <span class="progress-text" id="progress-text-level5">0 / 3</span>
                            </div>
                        </div>
                        <p class="objectives-desc">Prouvez votre ma√Ætrise des commandes dans le terminal avant d'√©crire vos scripts.</p>
                        <div class="objectives-list">
                            <div class="obj-item" data-obj="l5-extract"><span class="obj-check">‚óã</span><span class="obj-text">Extraire les IPs suspectes avec leur fr√©quence</span></div>
                            <div class="obj-item" data-obj="l5-ports"><span class="obj-check">‚óã</span><span class="obj-text">Lister les ports suspects (SERVICE=UNKNOWN ou non standard)</span></div>
                            <div class="obj-item" data-obj="l5-scada"><span class="obj-check">‚óã</span><span class="obj-text">Filtrer les alertes SCADA critiques ou danger</span></div>
                        </div>
                        <div class="level-complete-banner hidden" id="banner-level5">
                            üéâ NIVEAU 5 COMPL√âT√â ‚Äî ACC√àS AU NIVEAU 6 D√âVERROUILL√â
                            <div class="code-reveal-inline">üîë Code Niveau 6 : <span class="code-value" id="code-value-level5"></span></div>
                        </div>
                    </div>

                    <!-- Compteur de r√©ponses √©crites -->
                    <div class="answers-tracker" id="answers-tracker-level5">
                        <span>üìù R√©ponses √©crites :</span>
                        <span class="answers-count" id="answers-count-level5">0 / 6</span>
                        <small>(toutes les r√©ponses doivent √™tre remplies pour compl√©ter le niveau)</small>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 5.1 ‚Äî Script Bash : D√©tecteur d'IP (<code>detecteur_ip.sh</code>) ‚Äî 5 pts</h3>
                        <div class="context-box">
                            <strong>Consigne :</strong> √âcrire un script bash qui prend un fichier de log en param√®tre, trouve les IP <strong>externes</strong> (hors 10.x, 192.168.x, 172.x) et affiche leur fr√©quence.
                        </div>
                        <div class="requirements-box">
                            <p><strong>Le script doit :</strong></p>
                            <ul>
                                <li>V√©rifier qu'un param√®tre est donn√© (sinon afficher l'usage)</li>
                                <li>Extraire toutes les IP du fichier avec <code>grep -oE</code></li>
                                <li>Exclure les IP priv√©es (RFC 1918) avec <code>grep -v</code></li>
                                <li>Compter les occurrences avec <code>sort | uniq -c | sort -rn</code></li>
                            </ul>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question 1 :</strong> √Ä quoi sert <code>grep -oE</code> ? Quelle diff√©rence avec <code>grep</code> seul ?</p>
                            <textarea class="level-answer" data-question="m5.1-q1" data-level="level5" placeholder="Votre explication..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question 2 :</strong> Que fait <code>uniq -c</code> ?</p>
                            <textarea class="level-answer" data-question="m5.1-q2" data-level="level5" placeholder="Votre explication..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>‚ùì <strong>Question 3 :</strong> Pourquoi exclut-on les IP commen√ßant par <code>10.</code>, <code>192.168.</code> et <code>172.</code> ?</p>
                            <textarea class="level-answer" data-question="m5.1-q3" data-level="level5" placeholder="Votre explication..." rows="2"></textarea>
                        </div>
                        <div class="question-box">
                            <p>üìù <strong>√âcrivez le script complet :</strong></p>
                            <textarea class="level-answer" data-question="m5.1-script" data-level="level5" placeholder="#!/bin/bash&#10;# detecteur_ip.sh&#10;..." rows="12" style="font-family: 'JetBrains Mono', 'Fira Code', monospace;"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 5.2 ‚Äî Script Bash : Isolation d'urgence (<code>isolation.sh</code>) ‚Äî 5 pts</h3>
                        <div class="context-box">
                            <strong>Consigne :</strong> Script qui prend une IP en param√®tre et g√©n√®re les r√®gles <code>iptables</code> pour bloquer une machine compromise et supprimer les routes inject√©es.
                        </div>
                        <div class="requirements-box">
                            <p><strong>Le script doit :</strong></p>
                            <ul>
                                <li>Prendre l'IP de la machine compromise en param√®tre</li>
                                <li>G√©n√©rer les r√®gles <code>iptables</code> pour bloquer le trafic entrant/sortant/forward</li>
                                <li>Bloquer les ports C2 connus (4444, 9001, 9999)</li>
                                <li>Afficher les commandes pour supprimer les routes inject√©es</li>
                            </ul>
                        </div>
                        <div class="question-box">
                            <p>üìù <strong>√âcrivez le script complet :</strong></p>
                            <textarea class="level-answer" data-question="m5.2-script" data-level="level5" placeholder="#!/bin/bash&#10;# isolation.sh&#10;..." rows="12" style="font-family: 'JetBrains Mono', 'Fira Code', monospace;"></textarea>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission 5.3 ‚Äî Script Python : Analyse ARP (<code>analyse_arp.py</code>) ‚Äî 5 pts</h3>
                        <div class="context-box">
                            <strong>Consigne :</strong> Script Python qui lit <code>arp_poison.log</code> et produit un r√©sum√© : types d'√©v√©nements, MAC suspectes, machines victimes et dur√©e de l'attaque.
                        </div>
                        <div class="requirements-box">
                            <p><strong>Le script doit :</strong></p>
                            <ul>
                                <li>Ouvrir et lire <code>logs_blackout/arp_poison.log</code></li>
                                <li>Ignorer les commentaires (lignes commen√ßant par <code>#</code>)</li>
                                <li>Compter les diff√©rents types d'√©v√©nements ARP</li>
                                <li>Identifier les adresses MAC suspectes (commen√ßant par <code>DE:</code>)</li>
                                <li>Lister les machines victimes du MITM</li>
                                <li>Afficher le verdict : poisoning confirm√© ou non</li>
                            </ul>
                        </div>
                        <div class="question-box">
                            <p>üìù <strong>√âcrivez le script complet :</strong></p>
                            <textarea class="level-answer" data-question="m5.3-script" data-level="level5" placeholder="#!/usr/bin/env python3&#10;# analyse_arp.py&#10;..." rows="15" style="font-family: 'JetBrains Mono', 'Fira Code', monospace;"></textarea>
                        </div>
                    </div>

                    <!-- TERMINAL NIVEAU 5 -->
                    <div class="terminal-section">
                        <h3>üíª Terminal de d√©veloppement</h3>
                        <p class="terminal-desc">Testez vos commandes avant d'√©crire vos scripts.</p>
                        <div class="instruction-box">
                            üìå <strong>Instruction :</strong> Pour chaque commande r√©pondant √† une question, ajoutez un commentaire √† la fin de votre ligne :<br>
                            <code># mission 5.1 question 1</code> &nbsp;ou&nbsp; <code># mission 5.2 question 1</code><br>
                            Cela permet d'identifier quelle question votre commande adresse.
                        </div>
                        <div class="sim-terminal" id="term-level5" data-level="level5">
                            <div class="sim-header">
                                <span class="sim-dot red"></span>
                                <span class="sim-dot yellow"></span>
                                <span class="sim-dot green"></span>
                                <span class="sim-title">agent@cert-qc:~/logs_blackout$</span>
                            </div>
                            <div class="sim-output"></div>
                            <div class="sim-input-line">
                                <span class="sim-prompt">$</span>
                                <input type="text" class="sim-input" placeholder="Tapez une commande..." spellcheck="false" autocomplete="off">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ======================================== -->
                <!-- LEVEL 6 ‚Äî Rapport Final                   -->
                <!-- ======================================== -->
                <section class="level-content hidden" id="content-level6">
                    <div class="content-header">
                        <h2>üìù NIVEAU 6 ‚Äî RAPPORT FINAL ET R√âSULTATS (20 min)</h2>
                        <div class="classification">DUR√âE ESTIM√âE : 20 MINUTES</div>
                    </div>
                    <div class="comm-message success">
                        <div class="comm-sender">üì® MSG DE : Commandant CERT-QC</div>
                        <div class="comm-body">
                            <p>¬´ La menace est sous contr√¥le gr√¢ce √† votre travail. Il nous faut maintenant un rapport officiel d'incident pour la Direction de la Ville de Montr√©al. Ensuite, vous recevrez vos r√©sultats QCM et un PDF r√©capitulatif de l'examen. ¬ª</p>
                        </div>
                    </div>

                    <div class="mission-block">
                        <h3>üîπ Mission Finale ‚Äî Rapport d'incident (25 pts)</h3>
                        <div class="context-box">
                            <strong>Consigne :</strong> R√©digez un rapport d'incident r√©pondant aux 5 sections ci-dessous. Chaque section vaut <strong>5 points</strong>.
                        </div>

                        <!-- Grille d'√©valuation -->
                        <table class="data-table" style="margin-bottom: 20px;">
                            <thead><tr><th>Crit√®re</th><th>Points</th><th>Description</th></tr></thead>
                            <tbody>
                                <tr><td><strong>QUI</strong> a attaqu√©</td><td>5 pts</td><td>IP, m√©thode d'entr√©e initiale</td></tr>
                                <tr><td><strong>COMMENT</strong> propagation</td><td>5 pts</td><td>Protocoles exploit√©s (ICMP, ARP, DNS, routes)</td></tr>
                                <tr><td><strong>QUOI</strong> actions r√©alis√©es</td><td>5 pts</td><td>Scan, exfiltration, MITM, manipulation SCADA</td></tr>
                                <tr><td><strong>IMPACT</strong> potentiel</td><td>5 pts</td><td>Cons√©quences sans intervention</td></tr>
                                <tr><td><strong>SOLUTIONS</strong> propos√©es</td><td>5 pts</td><td>5 mesures concr√®tes, r√©alistes et pertinentes</td></tr>
                            </tbody>
                        </table>

                        <!-- Compteur de r√©ponses √©crites -->
                        <div class="answers-tracker" id="answers-tracker-level6">
                            <span>üìù R√©ponses √©crites :</span>
                            <span class="answers-count" id="answers-count-level6">0 / 5</span>
                            <small>(toutes les sections doivent √™tre remplies pour soumettre)</small>
                        </div>

                        <div class="report-form">
                            <label>RAPPORT D'INCIDENT ‚Äî OP√âRATION BLACKOUT-Œ© ‚Äî CLASSIFICATION : SECRET</label>

                            <div class="question-box">
                                <p>üìù <strong>1. QUI a attaqu√© ?</strong> (IP, m√©thode d'entr√©e)</p>
                                <textarea class="level-answer report-section" data-question="rapport-qui" data-level="level6" id="report-qui" placeholder="L'attaque provient de l'IP..." rows="4"></textarea>
                            </div>

                            <div class="question-box">
                                <p>üìù <strong>2. COMMENT l'attaquant s'est-il propag√© ?</strong> (protocoles exploit√©s)</p>
                                <textarea class="level-answer report-section" data-question="rapport-comment" data-level="level6" id="report-comment-section" placeholder="Propagation multi-protocole : tunnel ICMP, ARP poisoning..." rows="5"></textarea>
                            </div>

                            <div class="question-box">
                                <p>üìù <strong>3. QUOI : qu'a fait l'attaquant une fois √† l'int√©rieur ?</strong></p>
                                <textarea class="level-answer report-section" data-question="rapport-quoi" data-level="level6" id="report-quoi" placeholder="L'attaquant a ex√©cut√© des commandes √† distance..." rows="5"></textarea>
                            </div>

                            <div class="question-box">
                                <p>üìù <strong>4. IMPACT : cons√©quences potentielles sans intervention</strong></p>
                                <textarea class="level-answer report-section" data-question="rapport-impact" data-level="level6" id="report-impact" placeholder="Sans intervention : coupure √©lectrique..." rows="4"></textarea>
                            </div>

                            <div class="question-box">
                                <p>üìù <strong>5. SOLUTIONS : 5 mesures concr√®tes pour √©viter la prochaine attaque</strong></p>
                                <textarea class="level-answer report-section" data-question="rapport-solutions" data-level="level6" id="report-solutions" placeholder="1. Isoler imm√©diatement...&#10;2. ...&#10;3. ...&#10;4. ...&#10;5. ..." rows="6"></textarea>
                            </div>

                            <div class="comment-section">
                                <label>COMMENTAIRE POUR L'EXERCICE ET LE PROF (optionnel)</label>
                                <textarea id="report-comment" placeholder="Vos remarques sur l'exercice, difficult√©s rencontr√©es, suggestions..." rows="4"></textarea>
                            </div>
                            <div class="report-footer">
                                <span id="report-chars">0 / 5 sections remplies</span>
                                <button class="btn-terminal" id="btn-submit-report">[ SOUMETTRE LE RAPPORT ET TERMINER L'EXAMEN ]</button>
                            </div>
                        </div>
                    </div>

                </section>

            </main>
        </div>
    </div>

    <!-- FIN EXAMEN CONFIRMATION OVERLAY -->
    <div id="overlay-fin-examen" class="fin-examen-overlay hidden">
        <div class="fin-examen-modal">
            <h2>üö™ FIN DE L'EXAMEN</h2>
            <p>√ätes-vous s√ªr de vouloir terminer l'examen ?</p>
            <ul class="fin-examen-list">
                <li>üìÑ Un <strong>PDF r√©capitulatif</strong> sera g√©n√©r√© automatiquement avec toutes vos r√©ponses et votre note QCM.</li>
                <li>üîí Votre session sera <strong>d√©connect√©e</strong> et vous ne pourrez plus modifier vos r√©ponses.</li>
            </ul>
            <p class="fin-examen-warning">‚ö†Ô∏è Cette action est <strong>irr√©versible</strong>.</p>
            <div class="fin-examen-actions">
                <button class="btn-terminal btn-fin-cancel" id="btn-fin-cancel">[ ANNULER ]</button>
                <button class="btn-terminal btn-fin-confirm" id="btn-fin-confirm">[ CONFIRMER ‚Äî TERMINER L'EXAMEN ]</button>
            </div>
        </div>
    </div>

    <!-- TOAST NOTIFICATIONS -->
    <div class="toast-container" id="toast-container"></div>

    <!-- GAME OVER OVERLAY -->
    <div id="screen-gameover" class="gameover-overlay hidden">
        <div class="gameover-rain" id="gameover-rain"></div>
        <div class="gameover-content">
            <pre class="skull-ascii" id="skull-ascii"></pre>
            <h1 class="gameover-title">SYST√àMES COMPROMIS</h1>
            <p class="gameover-subtitle">Le groupe VANTABLACK a pris le contr√¥le de Montr√©al.<br>Temps √©coul√© ‚Äî mission √©chou√©e.</p>
            <button class="gameover-btn" id="btn-restart">‚Üª RECOMMENCER LA MISSION</button>
        </div>
    </div>

    <!-- FILE VIEWER OVERLAY -->
    <div id="file-viewer-overlay" class="file-viewer-overlay hidden">
        <div class="file-viewer">
            <div class="file-viewer-header">
                <div class="file-viewer-dots">
                    <span class="sim-dot red"></span>
                    <span class="sim-dot yellow"></span>
                    <span class="sim-dot green"></span>
                </div>
                <span class="file-viewer-title" id="file-viewer-title">fichier.log</span>
                <button class="file-viewer-close" id="file-viewer-close">‚úï</button>
            </div>
            <pre class="file-viewer-content" id="file-viewer-content"></pre>
        </div>
    </div>

    <!-- BAR√àME OVERLAY -->
    <div id="overlay-bareme" class="info-overlay hidden">
        <div class="info-overlay-panel">
            <div class="info-overlay-header">
                <h2>üìä BAR√àME DE L'EXAMEN ‚Äî 100 POINTS</h2>
                <button class="info-overlay-close" data-close="overlay-bareme">‚úï</button>
            </div>
            <div class="info-overlay-body">
                <div class="bareme-container">
                    <table class="bareme-table">
                        <thead>
                            <tr><th>Niveau</th><th>Contenu</th><th>Type</th><th>Points</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="bareme-level">0</span></td>
                                <td>Th√©orie ‚Äî R√©seaux, Adressage IP, Git, Docker</td>
                                <td>QCM + Tableau</td>
                                <td class="bareme-pts">20 pts</td>
                            </tr>
                            <tr>
                                <td><span class="bareme-level">1</span></td>
                                <td>Analyse des logs ‚Äî Pare-feu, ICMP, ARP, SCADA</td>
                                <td>Terminal (grep, awk, sed)</td>
                                <td class="bareme-pts">10 pts</td>
                            </tr>
                            <tr>
                                <td><span class="bareme-level">2</span></td>
                                <td>Analyse r√©seau ‚Äî Routes, ARP, connexions</td>
                                <td>Terminal (grep, awk)</td>
                                <td class="bareme-pts">10 pts</td>
                            </tr>
                            <tr>
                                <td><span class="bareme-level">3</span></td>
                                <td>Sc√©nario Git &amp; Docker</td>
                                <td>QCM</td>
                                <td class="bareme-pts">5 pts</td>
                            </tr>
                            <tr>
                                <td><span class="bareme-level">4</span></td>
                                <td>D√©codage hexad√©cimal &amp; DNS tunneling</td>
                                <td>Terminal + exercices</td>
                                <td class="bareme-pts">15 pts</td>
                            </tr>
                            <tr>
                                <td><span class="bareme-level">5</span></td>
                                <td>Scripts de d√©fense ‚Äî Bash &amp; Python</td>
                                <td>Terminal + scripts</td>
                                <td class="bareme-pts">15 pts</td>
                            </tr>
                            <tr>
                                <td><span class="bareme-level">6</span></td>
                                <td>Rapport d'incident final</td>
                                <td>R√©daction</td>
                                <td class="bareme-pts">25 pts</td>
                            </tr>
                            <tr class="bareme-total-row">
                                <td colspan="3"><strong>TOTAL</strong></td>
                                <td class="bareme-pts"><strong>100 pts</strong></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="bareme-note">
                        <p>‚ö†Ô∏è <strong>Note :</strong> Les niveaux QCM (0 et 3) sont corrig√©s automatiquement. Les autres niveaux seront √©valu√©s par le professeur √† partir du PDF r√©capitulatif et de vos r√©ponses terminales.</p>
                        <p>üìÑ Le PDF g√©n√©r√© en fin d'examen contient toutes vos r√©ponses QCM et votre rapport.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CONTEXTE OVERLAY -->
    <div id="overlay-contexte" class="info-overlay hidden">
        <div class="info-overlay-panel">
            <div class="info-overlay-header">
                <h2>üìñ CONTEXTE ‚Äî OP√âRATION BLACKOUT-Œ©</h2>
                <button class="info-overlay-close" data-close="overlay-contexte">‚úï</button>
            </div>
            <div class="info-overlay-body">
                <div class="context-narrative">
                    <div class="narrative-date">üìÖ 14 mars 2026, 23h58 ‚Äî Montr√©al, Qu√©bec</div>
                    <p>Une alerte silencieuse se d√©clenche dans les serveurs du <strong>Centre de S√©curit√© Informatique de la Ville de Montr√©al (CSIVM)</strong>. Pas de bruit. Pas d'explosion. Juste des chiffres qui changent imperceptiblement dans les syst√®mes de contr√¥le du r√©seau √©lectrique.</p>
                    <p><strong>Ce n'est pas un accident.</strong></p>
                    <p>Le groupe <span class="highlight-red">VANTABLACK</span> ‚Äî une unit√© de hackers li√©e √† un √âtat hostile ‚Äî s'est infiltr√© discr√®tement dans le r√©seau de la ville il y a <strong>72 heures</strong>. Depuis, ils ont cartographi√© les sous-r√©seaux, empoisonn√© les tables ARP, transmis des donn√©es cach√©es dans des pings ICMP, et encod√© des messages secrets dans des requ√™tes DNS en hexad√©cimal.</p>
                    <p class="highlight-line">‚ö° Ce soir, ils passent √† l'ex√©cution.</p>
                    <div class="targets-grid">
                        <div class="target-card"><span class="target-icon">‚ö°</span><strong>R√©seau SCADA</strong><br>Contr√¥le du r√©seau √©lectrique ‚Äî coupure imminente</div>
                        <div class="target-card"><span class="target-icon">üè•</span><strong>R√©seau CHUM</strong><br>Syst√®mes de support vital hospitalier</div>
                        <div class="target-card"><span class="target-icon">üíß</span><strong>Usine Jean-R. Marcotte</strong><br>Traitement des eaux ‚Äî manipulation des dosages</div>
                        <div class="target-card"><span class="target-icon">üö¶</span><strong>Contr√¥le du trafic</strong><br>Paralysie des intersections intelligentes</div>
                    </div>
                    <p>Vous √™tes l'√©quipe <strong>CERT-QC</strong> (Computer Emergency Response Team ‚Äî Qu√©bec). Vous avez √©t√© r√©veill√©s √† minuit. Les prochaines heures d√©cideront si Montr√©al passe la nuit.</p>
                    <p>La mission est divis√©e en <strong>6 niveaux</strong>. Chaque niveau d√©verrouille un fragment de v√©rit√©.</p>
                    <p class="narrative-ending">üî¥ Bonne chance. On en a besoin.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- INFORMATION UTILE OVERLAY -->
    <div id="overlay-info-utile" class="info-overlay hidden">
        <div class="info-overlay-panel info-overlay-wide">
            <div class="info-overlay-header">
                <h2>üìö INFORMATIONS UTILES ‚Äî R√âF√âRENCE</h2>
                <button class="info-overlay-close" data-close="overlay-info-utile">‚úï</button>
            </div>
            <div class="info-overlay-body">

                <div class="info-section">
                    <h3>üìê Architecture R√©seau de la Ville</h3>
<pre class="info-code-block">
INTERNET (Zone hostile)
‚îÇ
‚îÇ   185.220.101.47  ‚Üê IP de l'attaquant
‚îÇ
‚ñº
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  PARE-FEU P√âRIM√âTRIQUE                      ‚ïë
‚ïë  Interface WAN : 132.207.88.1               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ DMZ : 172.16.0.0/12  (serveurs publics)
‚îÇ         172.16.1.100  ‚Äî Site web ville
‚îÇ         172.16.2.10   ‚Äî Serveur mail
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ R√âSEAU DEVOPS : 192.168.100.0/24
‚îÇ         192.168.100.10  ‚Äî Serveur de d√©ploiement
‚îÇ         192.168.100.88  ‚Üê Machine compromise (pivot)
‚îÇ
‚îî‚îÄ‚îÄ‚îÄ R√âSEAU INTERNE VILLE : 10.100.0.0/16
          ‚îÇ
          ‚îú‚îÄ‚îÄ 10.100.1.0/24  ‚Äî Administration centrale
          ‚îÇ       10.100.1.1   ‚Äî Routeur admin
          ‚îÇ       10.100.1.88  ‚Üê Poste infect√© (mouvement lat√©ral)
          ‚îÇ
          ‚îú‚îÄ‚îÄ 10.100.2.0/24  ‚Äî R√©seau SCADA (contr√¥le √©lectrique)
          ‚îÇ       10.100.2.50  ‚Äî Automate PLC-01
          ‚îÇ       10.100.2.51  ‚Äî Automate PLC-02
          ‚îÇ       10.100.2.100 ‚Äî Superviseur SCADA
          ‚îÇ
          ‚îú‚îÄ‚îÄ 10.100.3.0/24  ‚Äî R√©seau CHUM (h√¥pital)
          ‚îÇ       10.100.3.20  ‚Äî Serveur dossiers patients
          ‚îÇ       10.100.3.55  ‚Äî Contr√¥leur support vital
          ‚îÇ       10.100.3.200 ‚Üê Serveur compromis (ARP poisoning)
          ‚îÇ
          ‚îî‚îÄ‚îÄ 10.100.4.0/24  ‚Äî Usine traitement des eaux
                  10.100.4.30  ‚Äî PLC dosage chlore
</pre>
                </div>

                <div class="info-section">
                    <h3>üßë‚Äçüè´ Dur√©e et √âtapes</h3>
                    <table class="info-table">
                        <thead><tr><th>√âtape</th><th>Dur√©e</th><th>Contenu</th></tr></thead>
                        <tbody>
                            <tr><td>Introduction + simulation</td><td>15 min</td><td>Sc√©nario, distribution des fichiers</td></tr>
                            <tr><td>Niveau 0 ‚Äî Th√©orie r√©seau</td><td>25 min</td><td>OSI, TCP/IP, ARP, ICMP</td></tr>
                            <tr><td>Niveau 1 ‚Äî Analyse des logs</td><td>45 min</td><td>grep, awk, sed, sort</td></tr>
                            <tr><td>Niveau 2 ‚Äî R√©seaux et ARP</td><td>40 min</td><td>Subnetting, analyse r√©seau</td></tr>
                            <tr><td>‚òï Pause</td><td>15 min</td><td></td></tr>
                            <tr><td>Niveau 3 ‚Äî Git et Docker</td><td>30 min</td><td>Concepts de base</td></tr>
                            <tr><td>Niveau 4 ‚Äî D√©codage hex + DNS</td><td>30 min</td><td>Hex ‚Üî ASCII, DNS tunneling</td></tr>
                            <tr><td>Niveau 5 ‚Äî Scripts de d√©fense</td><td>45 min</td><td>Bash + Python guid√©s</td></tr>
                            <tr><td>Niveau 6 ‚Äî Rapport final</td><td>20 min</td><td>Synth√®se et correction</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="info-section">
                    <h3>üõ†Ô∏è Aide-m√©moire Commandes</h3>
                    <div class="info-columns">
                        <div class="info-col">
                            <h4>Recherche (grep)</h4>
<pre class="info-code-block info-code-sm">grep "motif" fichier
grep -i "motif" fichier      # insensible √† la casse
grep -c "motif" fichier      # compter les occurrences
grep -v "motif" fichier      # exclure le motif
grep -E "mot1|mot2" fichier  # regex √©tendue
grep -o "motif" fichier      # afficher seulement le match</pre>
                        </div>
                        <div class="info-col">
                            <h4>Extraction (awk / sed)</h4>
<pre class="info-code-block info-code-sm">awk '{print $1}' fichier     # 1√®re colonne
awk '{print $3, $5}' fichier # colonnes 3 et 5
sed 's/ancien/nouveau/' fich # substitution
sed 's/[^0-9]//g' fichier    # garder que les chiffres</pre>
                        </div>
                        <div class="info-col">
                            <h4>Tri et comptage</h4>
<pre class="info-code-block info-code-sm">sort fichier                # tri alphab√©tique
sort -n fichier             # tri num√©rique
sort -u fichier             # tri + d√©doublonnage
uniq -c                     # compter les doublons
wc -l fichier               # nombre de lignes</pre>
                        </div>
                        <div class="info-col">
                            <h4>Affichage s√©lectif</h4>
<pre class="info-code-block info-code-sm">head -n 10 fichier          # 10 premi√®res lignes
tail -n 5 fichier           # 5 derni√®res lignes
cat fichier                 # tout le fichier
cat fichier | commande      # pipeline (cha√Æner)</pre>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h3>üîë Protocoles Cl√©s ‚Äî R√©sum√© Rapide</h3>
                    <table class="info-table">
                        <thead><tr><th>Protocole</th><th>Couche OSI</th><th>Fonction</th><th>Attaque connue</th></tr></thead>
                        <tbody>
                            <tr><td>ARP</td><td>2 ‚Äî Liaison</td><td>R√©solution IP ‚Üí MAC</td><td>ARP Poisoning (MITM)</td></tr>
                            <tr><td>ICMP</td><td>3 ‚Äî R√©seau</td><td>Diagnostic (ping)</td><td>ICMP Tunneling (exfiltration)</td></tr>
                            <tr><td>DNS</td><td>7 ‚Äî Application</td><td>R√©solution nom ‚Üí IP</td><td>DNS Tunneling (hex encoding)</td></tr>
                            <tr><td>TCP</td><td>4 ‚Äî Transport</td><td>Connexions fiables</td><td>SYN Flood, port scan</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="info-section">
                    <h3>üî¢ Tableau Hexad√©cimal ‚Üî ASCII</h3>
<pre class="info-code-block info-code-sm">Hex:   41 42 43 44 45 46 47 48 49 4A 4B 4C 4D
ASCII:  A  B  C  D  E  F  G  H  I  J  K  L  M

Hex:   4E 4F 50 51 52 53 54 55 56 57 58 59 5A
ASCII:  N  O  P  Q  R  S  T  U  V  W  X  Y  Z

Hex:   61 62 63 64 65 66 67 68 69 6A 6B 6C 6D
ASCII:  a  b  c  d  e  f  g  h  i  j  k  l  m

Hex:   30 31 32 33 34 35 36 37 38 39
ASCII:  0  1  2  3  4  5  6  7  8  9

Hex:   20=espace  2E=.  2F=/  3A=:  2D=-  5F=_</pre>
                </div>

            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="js/jspdf.umd.min.js"></script>
    <script src="js/typewriter.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/terminal.js"></script>
    <script src="js/app.js"></script>

</body>
</html>
